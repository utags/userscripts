@import 'tailwindcss';

:host {
  all: initial;
}

div {
  line-height: normal;
}

.utqn {
  @apply fixed z-[21474836] font-sans text-[13px] text-gray-900;
}

.utqn.dark {
  @apply text-gray-100;
}

.panel {
  @apply bg-white/85 border border-gray-200 rounded-xl backdrop-saturate-[1.2] backdrop-blur-sm shadow-xl p-3 flex flex-col gap-3 max-w-[360px] max-h-[100vh] overflow-y-auto;
}

.utqn.dark .panel {
  @apply bg-gray-900/80 border-gray-700 shadow-2xl;
}

@keyframes utqn-slide-in-left {
  from {
    opacity: 0;
    transform: translateX(-12px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
@keyframes utqn-slide-in-right {
  from {
    opacity: 0;
    transform: translateX(12px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
@keyframes utqn-slide-in-top {
  from {
    opacity: 0;
    transform: translateY(0);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
@keyframes utqn-slide-in-bottom {
  from {
    opacity: 0;
    transform: translateY(0);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
@keyframes utqn-slide-out-left {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(-12px);
  }
}
@keyframes utqn-slide-out-right {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(12px);
  }
}
@keyframes utqn-slide-out-top {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(0);
  }
}
@keyframes utqn-slide-out-bottom {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(0);
  }
}

.anim-in-left {
  animation: utqn-slide-in-left 200ms ease-out;
}
.anim-in-right {
  animation: utqn-slide-in-right 200ms ease-out;
}
.anim-in-top {
  animation: utqn-slide-in-top 200ms ease-out;
}
.anim-in-bottom {
  animation: utqn-slide-in-bottom 200ms ease-out;
}
.anim-out-left {
  animation: utqn-slide-out-left 180ms ease-in forwards;
}
.anim-out-right {
  animation: utqn-slide-out-right 180ms ease-in forwards;
}
.anim-out-top {
  animation: utqn-slide-out-top 180ms ease-in forwards;
}
.anim-out-bottom {
  animation: utqn-slide-out-bottom 180ms ease-in forwards;
}

.header {
  @apply flex items-center justify-between gap-2;
}

.header-actions {
  @apply flex items-center gap-1.5 opacity-0 transition-opacity duration-150;
}
.section .header:hover .header-actions {
  @apply opacity-100;
}
.section .header {
  @apply mb-0;
}

.icon-btn {
  @apply w-6 h-6 p-0 rounded-md flex items-center justify-center text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors duration-150;
}
.utqn.dark .icon-btn {
  @apply text-gray-300 hover:bg-gray-800 hover:text-white;
}
.utqn.dark .icon img.lucide-icon {
  filter: invert(1) brightness(1.15) saturate(1.1);
}
.icon-btn.active {
  @apply bg-gray-200 text-gray-900 ring-1 ring-gray-300;
}
.utqn.dark .icon-btn.active {
  @apply bg-gray-700 text-white ring-1 ring-gray-600;
}

.title {
  @apply flex items-center gap-1.5 font-semibold text-gray-800;
}

.utqn.dark .title {
  @apply text-gray-100;
}

.btn {
  @apply appearance-none inline-flex items-center justify-center gap-1.5 border border-gray-300 bg-white text-gray-800 rounded-lg px-2.5 py-1.5 cursor-pointer hover:bg-gray-100 transition-all duration-150 active:scale-[0.99] shadow-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-300;
}

.utqn.dark .btn {
  @apply border-gray-700 bg-gray-800 text-gray-200 hover:bg-gray-700 focus:ring-gray-700;
}

.btn-primary {
  @apply bg-blue-600 text-white border-blue-600 hover:bg-blue-700 hover:border-blue-700 shadow-md;
}
.utqn.dark .btn-primary,
.modal.dark .btn-primary {
  @apply bg-blue-500 border-blue-500 hover:bg-blue-600 hover:border-blue-600 text-white;
}

.btn-secondary {
  @apply bg-gray-100 text-gray-800 border-gray-300 hover:bg-gray-200;
}
.utqn.dark .btn-secondary,
.modal.dark .btn-secondary {
  @apply bg-gray-800 text-gray-200 border-gray-700 hover:bg-gray-700;
}

.items {
  @apply grid gap-1;
  grid-template-columns: repeat(var(--cols, 1), minmax(0, 1fr));
}

.item {
  @apply inline-flex items-center gap-1.5 px-2 py-1.5 rounded-md text-gray-900 no-underline transition-colors duration-150 truncate min-w-0;
}

.item {
  width: 100%;
}

.item:hover {
  @apply bg-gray-100;
}

.utqn.dark .item {
  @apply text-gray-100;
}
.utqn.dark .item:hover {
  @apply bg-gray-800;
}

.utqn.dark .item {
  @apply border-gray-700 bg-gray-800 text-gray-100 hover:bg-gray-700;
}

.icon {
  @apply inline-flex items-center justify-center w-4 h-4 overflow-hidden whitespace-nowrap leading-none;
}

.collapsed-tab {
  @apply fixed z-[21474836] w-[3px] h-[60px] bg-gray-700 opacity-40 rounded-none;
}
.utqn.dark .collapsed-tab {
  @apply bg-gray-400 opacity-40;
}
.collapsed-tab:hover {
  @apply opacity-80;
}

.modal-mask {
  @apply fixed inset-0 z-[2147483647] bg-black/40 flex items-center justify-center;
}

.modal {
  @apply bg-white rounded-2xl shadow-2xl w-[720px] max-w-[92vw] p-3 font-sans text-[13px] text-gray-900;
}

.modal h2 {
  @apply text-[16px] m-0 mb-2.5;
}

.row {
  @apply flex gap-2 my-1.5;
}

.modal .row {
  @apply items-center;
}

.segmented {
  @apply inline-flex items-center gap-1 px-1 py-0.5 rounded-full border border-gray-200 bg-gray-100 shadow-sm;
}
.utqn.dark .segmented {
  @apply border-gray-700 bg-gray-800;
}
.seg-item {
  @apply inline-flex items-center rounded-full cursor-pointer select-none;
}
.seg-radio {
  @apply sr-only;
}
.seg-text {
  @apply px-2 py-1 rounded-full text-gray-700 w-full;
  text-align: center;
}
.utqn.dark .seg-text {
  @apply text-gray-300;
}
.seg-item .seg-radio:checked + .seg-text {
  @apply bg-white text-gray-900 ring-1 ring-gray-300;
}
.utqn.dark .seg-item .seg-radio:checked + .seg-text {
  @apply bg-gray-700 text-gray-100 ring-1 ring-gray-600;
}
.seg-item .seg-radio:focus + .seg-text {
  @apply ring-1 ring-blue-500;
}

.row label {
  @apply w-[120px] text-gray-500;
}

input,
select,
textarea {
  @apply flex-1 border border-gray-300 rounded-lg px-2 py-1.5 text-[13px];
}

textarea {
  @apply min-h-[80px];
}

.grid {
  @apply grid grid-cols-2 gap-2;
}

.group-list {
  @apply flex gap-1.5 flex-wrap mt-1.5;
}

.group-pill {
  @apply px-2 py-1 border border-gray-200 rounded-full cursor-pointer hover:bg-gray-100 transition-colors duration-150;
}

.group-pill.active {
  @apply bg-gray-900 text-white border-gray-900;
}

.utqn.dark .group-pill {
  @apply border-gray-700 text-gray-200 hover:bg-gray-700;
}

.utqn.dark .group-pill.active {
  @apply bg-gray-100 text-gray-900 border-gray-100;
}

.mini {
  @apply px-1.5 py-0.5 rounded-md text-xs;
}

.utqn.dark .section {
}

.divider {
  @apply h-px bg-gray-200;
}
.utqn.dark .divider {
  @apply bg-gray-700;
}

.section-title {
  @apply text-xs uppercase tracking-wider text-gray-500 mb-1;
}

.utqn.dark .section-title {
  @apply text-gray-400;
}

.modal {
  @apply bg-white rounded-2xl shadow-2xl w-[720px] max-w-[92vw] p-3;
}

.utqn.dark .modal {
  @apply bg-gray-900 text-gray-100;
}

.modal.dark {
  @apply bg-gray-900 text-gray-100;
}

.utqn.dark .modal input,
.utqn.dark .modal select,
.utqn.dark .modal textarea {
  @apply border-gray-700 bg-gray-800 text-gray-100;
}

.modal.dark input,
.modal.dark select,
.modal.dark textarea {
  @apply border-gray-700 bg-gray-800 text-gray-100;
}

.utqn.dark .modal input::placeholder,
.utqn.dark .modal textarea::placeholder {
  color: #9ca3af;
}

.modal.dark input::placeholder,
.modal.dark textarea::placeholder {
  color: #9ca3af;
}

.modal.dark .row label {
  @apply text-gray-400;
}

.modal.dark .segmented {
  @apply border-gray-700 bg-gray-800;
}
.modal.dark .seg-item .seg-radio:checked + .seg-text {
  @apply bg-gray-700 text-gray-100 ring-1 ring-gray-600;
}
.modal.dark .seg-text {
  @apply text-gray-300;
}

.editor {
  @apply p-4 rounded-2xl max-h-[72vh] overflow-y-auto;
}

.editor .grid {
  @apply gap-2;
}
.editor .row {
  @apply items-center gap-2;
}
.editor .row label {
  @apply w-[120px] text-gray-500;
}
.utqn.dark .editor .row label {
  @apply text-gray-400;
}

.editor input,
.editor select,
.editor textarea {
  @apply border border-gray-300 rounded-md px-2 py-1.5 bg-white focus:outline-none focus:ring-2 focus:ring-gray-300;
}
.utqn.dark .editor input,
.utqn.dark .editor select,
.utqn.dark .editor textarea {
  @apply border-gray-700 bg-gray-800 focus:ring-gray-700;
}

.editor .item-row {
  @apply bg-gray-50 rounded-md px-2 py-1.5;
}
.editor .item-row {
  display: grid;
  grid-template-columns: 1.2fr 1.1fr 0.9fr 2fr 1fr 0.9fr 1.3fr auto auto;
  align-items: center;
  gap: 8px;
}
.editor .item-row:hover {
  @apply bg-gray-100;
}
.utqn.dark .editor .item-row {
  @apply bg-gray-800;
}
.utqn.dark .editor .item-row:hover {
  @apply bg-gray-700;
}

.editor .btn {
  @apply px-2 py-1 rounded-md text-xs;
}

.row label {
  @apply w-[120px] text-gray-500;
}

.utqn.dark .row label {
  @apply text-gray-400;
}
.panel-actions {
  @apply flex items-center gap-1.5;
}
.panel-actions-left {
  @apply flex items-center gap-1.5;
}

.theme-switch {
  @apply inline-flex items-center gap-1 bg-gray-100 rounded-full px-1 py-[2px] border border-gray-200 shadow-sm;
}
.utqn.dark .theme-switch {
  @apply bg-gray-800;
}
.theme-btn {
  @apply w-6 h-6 p-0 rounded-full flex items-center justify-center text-gray-600 hover:bg-gray-200 hover:text-gray-900 transition-colors duration-150;
}
.utqn.dark .theme-btn {
  @apply text-gray-300 hover:bg-gray-700 hover:text-white;
}
.theme-btn.active {
  @apply bg-white ring-1 ring-gray-300;
}
.utqn.dark .theme-btn.active {
  @apply bg-gray-700 ring-1 ring-gray-600;
}

.collapse-btn {
  @apply w-6 h-6 p-0 rounded-md flex items-center justify-center text-gray-600 hover:bg-gray-200 hover:text-gray-900 transition-colors duration-150;
}
.utqn.dark .collapse-btn {
  @apply text-gray-300 hover:bg-gray-700 hover:text-white;
}
.item + .icon-btn {
  @apply justify-self-end;
}
.items {
  @apply mt-1.5;
  align-items: center;
}
.item-wrap {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}
.item-wrap .item {
  flex: 1;
}
.item-wrap .icon-btn {
  opacity: 0;
  transition: opacity 0.15s ease-in-out;
}
.item-wrap:hover .icon-btn {
  opacity: 1;
}
.item-wrap:focus-within .icon-btn {
  opacity: 1;
}
.quick-add-menu {
  @apply fixed z-[2147483647] bg-white border border-gray-200 rounded-lg shadow-xl p-1.5 min-w-[160px] font-sans text-[13px];
}
.utqn.dark ~ .quick-add-menu,
.utqn.dark .quick-add-menu {
  @apply bg-gray-900 border-gray-700 text-gray-100 shadow-black/40;
}
.quick-add-item {
  @apply w-full flex items-center gap-1.5 px-2 py-1.5 rounded-md text-left hover:bg-gray-100 transition-colors duration-150 text-gray-900;
}
.utqn.dark ~ .quick-add-menu .quick-add-item,
.utqn.dark .quick-add-menu .quick-add-item {
  @apply text-gray-100 hover:bg-gray-800;
}
.utqn.dark ~ .quick-add-menu .icon img.lucide-icon,
.utqn.dark .quick-add-menu .icon img.lucide-icon {
  filter: invert(1) brightness(1.15) saturate(1.1);
}
.picker-highlight {
  outline: 2px dashed #ef4444 !important;
  outline-offset: 2px !important;
  cursor: pointer !important;
}
.picker-tip {
  position: fixed;
  top: 12px;
  right: 12px;
  z-index: 2147483647;
  background: #fff;
  color: #111827;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  padding: 6px 10px;
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
  font:
    13px/1.4 system-ui,
    -apple-system,
    Segoe UI,
    Roboto,
    Helvetica,
    Arial,
    'Apple Color Emoji',
    'Segoe UI Emoji';
}
.utqn.dark ~ .picker-tip,
.utqn.dark .picker-tip {
  background: #111827;
  color: #f9fafb;
  border-color: #374151;
}
